<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¨ã‚¢ãƒ—ãƒªã®ä¸–ç•Œã‚’æ¢æ¤œã—ã‚ˆã†ï¼</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700;800&display=swap');
    
    /* PDFåŒ–å¯¾å¿œã®åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }
    
    body {
      font-family: 'M PLUS Rounded 1c', sans-serif;
      margin: 0;
      padding: 0;
      overflow: hidden;
      width: 100%;
      height: 100%;
      background: white;
    }
    
    /* ãƒ«ãƒ“ã‚¿ã‚°ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    ruby {
      ruby-align: center;
    }
    
    rt {
      font-size: 0.6em;
      color: #666;
      font-weight: normal;
    }
    
    /* PDFåŒ–æ™‚ã®ä½™ç™½å®Œå…¨é™¤å» */
    @media print {
      * {
        margin: 0 !important;
        padding: 0 !important;
      }
      
      html, body {
        margin: 0 !important;
        padding: 0 !important;
        width: 100% !important;
        height: 100% !important;
      }
      
      @page {
        margin: 0;
        size: 1280px 720px;
      }
      
      .main-container {
        margin: 0 !important;
        padding: 0 !important;
        width: 1280px !important;
        height: 720px !important;
        max-width: none !important;
        max-height: none !important;
        position: static !important;
        left: auto !important;
        transform: none !important;
      }
      
      /* PDFåŒ–æ™‚ã®ãƒ«ãƒ“ã‚¹ã‚¿ã‚¤ãƒ« */
      rt {
        font-size: 0.5em !important;
        color: #333 !important;
      }
    }
    
    /* PDFåŒ–å¯¾å¿œãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ */
    .main-container {
      width: 1280px;
      height: 720px;
      margin: 0 auto;
      position: relative;
      overflow: hidden;
      background: linear-gradient(135deg, #a8e1f8 0%, #f8d4e6 100%);
    }
    
    /* PDFåŒ–å¯¾å¿œã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
    .section {
      width: 1280px;
      height: 720px;
      position: absolute;
      top: 0;
      left: 0;
      display: flex;
      flex-direction: column;
      padding: 30px 40px;
      opacity: 0;
      transform: translateX(100%);
      transition: all 0.5s ease-in-out;
      visibility: hidden;
    }
    
    .section.active {
      opacity: 1;
      transform: translateX(0);
      visibility: visible;
    }
    
    /* PDFåŒ–æ™‚ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³æœ€é©åŒ– */
    @media print {
      .section {
        position: static !important;
        width: 1280px !important;
        height: 720px !important;
        padding: 30px 40px !important;
        margin: 0 !important;
        opacity: 1 !important;
        transform: none !important;
        visibility: visible !important;
        transition: none !important;
        display: flex !important;
        flex-direction: column !important;
      }
      
      .section:not(.active) {
        display: none !important;
      }
    }
    
    /* ã‚¿ã‚¤ãƒˆãƒ«ã‚¹ã‚¿ã‚¤ãƒ« */
    .title {
      color: #ff5a87;
      text-shadow: 3px 3px 0 #ffffff, 5px 5px 0 #3bb4d7;
      font-weight: 800;
      font-size: 2.8rem;
      text-align: center;
      margin-bottom: 20px;
      animation: bounce 2s infinite;
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    
    /* ã‚«ãƒ¼ãƒ‰ãƒ»ãƒœãƒƒã‚¯ã‚¹ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .content-box {
      background-color: white;
      border: 3px solid #3bb4d7;
      border-radius: 20px;
      padding: 15px 20px;
      transition: all 0.3s;
    }
    
    .content-box:hover {
      transform: scale(1.05);
    }
    
    /* ãƒ‡ãƒã‚¤ã‚¹ã‚«ãƒ¼ãƒ‰ */
    .device-card {
      background: white;
      border: 4px solid #ffbe3d;
      border-radius: 25px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
      width: 300px;
      height: 260px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    
    .device-card:hover {
      transform: translateY(-10px);
    }
    
    .device-card.active {
      background: linear-gradient(45deg, #ffeb3b, #ffc107);
      transform: scale(1.1);
    }
    
    .device-icon {
      font-size: 100px;
      margin-bottom: 10px;
    }
    
    .tablet-icon {
      font-size: 120px;
      margin-bottom: -10px;
    }
    
    /* ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒœã‚¿ãƒ³ */
    .interactive-btn {
      background: linear-gradient(45deg, #5ce68a, #3bb4d7);
      color: white;
      border: none;
      border-radius: 30px;
      padding: 12px 25px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .interactive-btn:hover {
      transform: translateY(-3px);
    }
    
    .interactive-btn:active {
      transform: translateY(0);
    }
    
    /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
    .navigation {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 15px;
      z-index: 1000;
    }
    
    /* PDFåŒ–æ™‚ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³éè¡¨ç¤º */
    @media print {
      .navigation {
        display: none !important;
      }
    }
    
    .nav-dot {
      width: 15px;
      height: 15px;
      border-radius: 50%;
      background: rgba(255,255,255,0.5);
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .nav-dot.active {
      background: #ff5a87;
      transform: scale(1.3);
    }
    
    /* ã‚¢ãƒ—ãƒªã‚¢ã‚¤ã‚³ãƒ³ */
    .app-icon {
      width: 160px;
      height: 160px;
      background: white;
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 80px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .app-icon:hover {
      transform: scale(1.1) rotate(5deg);
    }
    
    /* ãƒŸãƒ‹ã‚²ãƒ¼ãƒ è¦ç´  */
    .mini-game {
      background: rgba(255,255,255,0.9);
      border-radius: 20px;
      padding: 20px;
      text-align: center;
    }
    
    .drop-zone {
      border: 3px dashed #3bb4d7;
      border-radius: 15px;
      padding: 15px;
      min-height: 80px;
      margin: 10px;
      transition: all 0.3s;
    }
    
    .drop-zone.drag-over {
      background: rgba(59, 180, 215, 0.2);
      transform: scale(1.05);
    }
    
    .draggable {
      cursor: grab;
      transition: all 0.3s;
    }
    
    .draggable:active {
      cursor: grabbing;
      opacity: 0.5;
    }
    
    /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }
    
    .floating {
      animation: float 3s ease-in-out infinite;
    }
    
    /* PDFåŒ–æ™‚ã®åŒ…æ‹¬çš„æœ€é©åŒ– */
    @media print {
      /* ã™ã¹ã¦ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç„¡åŠ¹åŒ– */
      *, *::before, *::after {
        animation: none !important;
        transition: none !important;
      }
      
      /* æµ®å‹•è¦ç´ ã®å›ºå®š */
      .floating {
        animation: none !important;
        transform: none !important;
      }
      
      /* ã‚¿ã‚¤ãƒˆãƒ«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç„¡åŠ¹åŒ– */
      .title {
        animation: none !important;
        transform: none !important;
      }
      
      /* ãƒ›ãƒãƒ¼åŠ¹æœã®ç„¡åŠ¹åŒ– */
      .content-box:hover,
      .device-card:hover,
      .interactive-btn:hover,
      .app-icon:hover,
      .browser-window:hover {
        transform: none !important;
      }
      
      /* ä½™ç™½ã®å®Œå…¨é™¤å» */
      body {
        margin: 0 !important;
        padding: 0 !important;
        background: white !important;
        overflow: visible !important;
      }
    }
    
    /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */
    .progress-bar {
      position: absolute;
      top: 0;
      left: 0;
      height: 5px;
      background: linear-gradient(to right, #ff5a87, #5ce68a);
      transition: width 0.3s;
      z-index: 1001;
    }
    
    /* ãƒ–ãƒ©ã‚¦ã‚¶ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®ã‚¹ã‚¿ã‚¤ãƒ« */
    .browser-window {
      background: white;
      border-radius: 15px;
      overflow: hidden;
      margin: 10px;
      transition: all 0.3s ease;
    }
    
    .browser-window:hover {
      transform: translateY(-5px);
    }
    
    /* ã‚·ãƒ³ãƒ—ãƒ«ãƒ–ãƒ©ã‚¦ã‚¶ï¼ˆä¸Šã®ç”»åƒå‚è€ƒï¼‰ */
    .simple-browser {
      width: 400px;
      height: 300px;
    }
    
    .simple-browser-header {
      background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
      height: 60px;
      padding: 15px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 2px solid #e0e0e0;
    }
    
    .window-controls {
      display: flex;
      gap: 8px;
    }
    
    .control-button {
      width: 15px;
      height: 15px;
      border-radius: 50%;
      border: 2px solid #666;
    }
    
    .minimize { background: #ffbd44; }
    .maximize { background: #00ca4e; }
    .close { background: #ff605c; }
    
    .simple-address-bar {
      background: rgba(255,255,255,0.9);
      border: 2px solid #333;
      border-radius: 5px;
      padding: 5px 10px;
      font-family: monospace;
      font-size: 14px;
      color: #333;
      width: 200px;
    }
    
    .simple-browser-body {
      height: calc(100% - 60px);
      background: #f5f5f0;
      padding: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: #666;
    }
    
    /* ç¾ä»£çš„ãƒ–ãƒ©ã‚¦ã‚¶ï¼ˆä¸‹ã®ç”»åƒå‚è€ƒï¼‰ */
    .modern-browser {
      width: 450px;
      height: 350px;
    }
    
    .modern-browser-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      height: 80px;
      padding: 10px 15px;
    }
    
    .tab-bar {
      display: flex;
      gap: 5px;
      margin-bottom: 10px;
    }
    
    .tab {
      background: rgba(255,255,255,0.9);
      border-radius: 8px 8px 0 0;
      padding: 8px 15px;
      font-size: 12px;
      color: #333;
      min-width: 120px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .tab.active {
      background: white;
      transform: translateY(-2px);
    }
    
    .nav-bar {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .nav-buttons {
      display: flex;
      gap: 5px;
    }
    
    .nav-btn {
      background: rgba(255,255,255,0.8);
      border: none;
      border-radius: 5px;
      width: 30px;
      height: 25px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s;
    }
    
    .nav-btn:hover {
      background: white;
      transform: scale(1.1);
    }
    
    .modern-address-bar {
      flex: 1;
      background: white;
      border: none;
      border-radius: 20px;
      padding: 8px 15px;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .search-icon {
      color: #ff9500;
      font-size: 16px;
    }
    
    .address-text {
      flex: 1;
      border: none;
      outline: none;
      font-family: monospace;
      color: #333;
    }
    
    .modern-browser-body {
      height: calc(100% - 80px);
      background: white;
      padding: 20px;
      display: flex;
      flex-direction: column;
      position: relative;
    }
    
    .page-content {
      flex: 1;
      background: #f8f9fa;
      border-radius: 10px;
      padding: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      color: #555;
    }
    
    .scrollbar {
      position: absolute;
      right: 10px;
      top: 20px;
      bottom: 20px;
      width: 12px;
      background: #e0e0e0;
      border-radius: 6px;
    }
    
    .scrollbar-thumb {
      width: 100%;
      height: 60px;
      background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
      border-radius: 6px;
      animation: scroll-bounce 3s infinite;
    }
    
    @keyframes scroll-bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(30px); }
    }

    /* ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— */
    .popup {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      background: white;
      padding: 25px;
      border-radius: 20px;
      z-index: 2000;
      transition: all 0.3s;
      max-width: 500px;
      max-height: 600px;
      overflow-y: auto;
    }
    
    .popup.show {
      transform: translate(-50%, -50%) scale(1);
    }
    
    .overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 1280px;
      height: 720px;
      background: rgba(0,0,0,0.5);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s;
      z-index: 1999;
    }
    
    .overlay.show {
      opacity: 1;
      visibility: visible;
    }
  </style>
</head>
<body>
  <div class="main-container">
    <!-- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ -->
    <div class="progress-bar" id="progressBar"></div>
    
    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³1: ã‚¤ãƒ³ãƒˆãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="section active" id="section1">
      <h1 class="title">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¨ã‚¢ãƒ—ãƒªã®<ruby>ä¸–ç•Œ<rt>ã›ã‹ã„</rt></ruby>ã‚’<ruby>æ¢æ¤œ<rt>ãŸã‚“ã‘ã‚“</rt></ruby>ã—ã‚ˆã†ï¼</h1>
      
      <div style="flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center;">
        <div class="content-box" style="max-width: 600px; margin-bottom: 20px;">
          <h2 style="color: #3bb4d7; margin-bottom: 15px; font-size: 1.8rem;"><ruby>ä»Šæ—¥<rt>ãã‚‡ã†</rt></ruby>ã¯<ruby>æ¥½<rt>ãŸã®</rt></ruby>ã—ã„<ruby>å†’é™º<rt>ã¼ã†ã‘ã‚“</rt></ruby>ã«å‡ºã‹ã‘ã‚ˆã†ï¼</h2>
          <p style="font-size: 1.1rem; line-height: 1.6;">
            ãƒ‘ã‚½ã‚³ãƒ³ã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã€ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³...<br>
            ã“ã‚Œã‚‰ã®<ruby>æ©Ÿæ¢°<rt>ãã‹ã„</rt></ruby>ã®ä¸­ã«ã‚ã‚‹ã€<br>
            <ruby>ä¸æ€è­°<rt>ãµã—ã</rt></ruby>ãª<ruby>ä¸–ç•Œ<rt>ã›ã‹ã„</rt></ruby>ã‚’<ruby>ä¸€ç·’<rt>ã„ã£ã—ã‚‡</rt></ruby>ã«<ruby>æ¢æ¤œ<rt>ãŸã‚“ã‘ã‚“</rt></ruby>ã—ã‚ˆã†ï¼
          </p>
        </div>
        
        <div style="display: flex; gap: 15px; justify-content: center; align-items: center;">
          <button class="interactive-btn" onclick="startAdventure()">
            ğŸš€ <ruby>å†’é™º<rt>ã¼ã†ã‘ã‚“</rt></ruby>ã‚’ã¯ã˜ã‚ã‚‹ï¼
          </button>
          
          <button class="interactive-btn" onclick="resetProgress()" 
                  style="background: linear-gradient(45deg, #ff5a87, #ffbe3d); font-size: 0.9rem; padding: 10px 20px;">
            ğŸ”„ <ruby>é€²è¡Œ<rt>ã—ã‚“ã“ã†</rt></ruby><ruby>çŠ¶æ³<rt>ã˜ã‚‡ã†ãã‚‡ã†</rt></ruby>ãƒªã‚»ãƒƒãƒˆ
          </button>
        </div>
      </div>
      
      <!-- è£…é£¾çš„ãªè¦ç´  -->
      <div class="floating" style="position: absolute; top: 100px; right: 100px;">
        <div style="font-size: 100px;">ğŸŒ</div>
      </div>
      <div class="floating" style="position: absolute; bottom: 100px; left: 100px; animation-delay: 1s;">
        <div style="font-size: 90px;">ğŸ“±</div>
      </div>
      <div class="floating" style="position: absolute; top: 200px; left: 150px; animation-delay: 2s;">
        <div style="font-size: 80px;">ğŸ’»</div>
      </div>
    </section>
    
    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³2: ãƒ‡ãƒã‚¤ã‚¹ã®ç´¹ä»‹ -->
    <section class="section" id="section2">
      <h1 class="title" style="margin-bottom: 15px;">ã„ã‚ã‚“ãª<ruby>æ©Ÿæ¢°<rt>ãã‹ã„</rt></ruby>ã‚’çŸ¥ã‚ã†ï¼</h1>
      
      <div style="flex: 1; display: flex; flex-direction: column; justify-content: space-between; padding: 0 20px;">
        <div style="flex-shrink: 0;">
          <p style="font-size: 1.3rem; margin-bottom: 15px; text-align: center; font-weight: 600;">
            ğŸ‘‡ ãã‚Œãã‚Œã®<ruby>æ©Ÿæ¢°<rt>ãã‹ã„</rt></ruby>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã¿ã‚ˆã†ï¼
          </p>
          
          <div style="display: flex; gap: 20px; justify-content: center; align-items: flex-start;">
            <div class="device-card" onclick="showDeviceInfo('pc')" style="width: 300px;">
              <div class="device-icon">ğŸ’»</div>
              <h3 style="color: #ff5a87; margin-bottom: 8px; font-size: 1.3rem; font-weight: bold;">ãƒ‘ã‚½ã‚³ãƒ³</h3>
              <p style="font-size: 1rem; font-weight: 500; line-height: 1.4;"><ruby>å¤§<rt>ãŠãŠ</rt></ruby>ããª<ruby>ç”»é¢<rt>ãŒã‚ã‚“</rt></ruby>ã§<br>ãŸãã•ã‚“ã®<ruby>ä½œæ¥­<rt>ã•ãã‚‡ã†</rt></ruby>ãŒã§ãã‚‹</p>
            </div>
            
            <div class="device-card" onclick="showDeviceInfo('tablet')" style="width: 300px;">
              <div class="device-icon tablet-icon">ğŸ“±</div>
              <h3 style="color: #5ce68a; margin-bottom: 8px; font-size: 1.3rem; font-weight: bold;">ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ</h3>
              <p style="font-size: 1rem; font-weight: 500; line-height: 1.4;"><ruby>æŒ<rt>ã‚‚</rt></ruby>ã¡<ruby>é‹<rt>ã¯ã“</rt></ruby>ã³ã‚„ã™ãã¦<br>ã‚¿ãƒƒãƒã§<ruby>æ“ä½œ<rt>ãã†ã•</rt></ruby>ã§ãã‚‹</p>
            </div>
            
            <div class="device-card" onclick="showDeviceInfo('smartphone')" style="width: 300px;">
              <div class="device-icon">ğŸ“±</div>
              <h3 style="color: #3bb4d7; margin-bottom: 8px; font-size: 1.3rem; font-weight: bold;">ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³</h3>
              <p style="font-size: 1rem; font-weight: 500; line-height: 1.4;">ã„ã¤ã§ã‚‚ã©ã“ã§ã‚‚<br><ruby>ä½¿<rt>ã¤ã‹</rt></ruby>ãˆã‚‹<ruby>å°<rt>ã¡ã„</rt></ruby>ã•ãªã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼</p>
            </div>
          </div>
        </div>
        
        <div id="deviceInfo" class="content-box" style="margin-top: 15px; max-width: 700px; min-height: 120px; padding: 12px 16px; display: none; align-self: center; flex-shrink: 0;">
          <!-- ãƒ‡ãƒã‚¤ã‚¹æƒ…å ±ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
        </div>
      </div>
    </section>
    
    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³3: ã‚¢ãƒ—ãƒªã£ã¦ä½•ï¼Ÿ -->
    <section class="section" id="section3">
      <h1 class="title">ã‚¢ãƒ—ãƒªã£ã¦ãªãƒ¼ã«ï¼Ÿ</h1>
      
      <div style="flex: 1; display: flex; gap: 30px; align-items: center;">
        <div style="flex: 1;">
          <div class="content-box" style="margin-bottom: 15px;">
            <h3 style="color: #ff5a87; margin-bottom: 10px; font-size: 1.3rem;">ã‚¢ãƒ—ãƒªã¯ã€Œ<ruby>é“å…·<rt>ã©ã†ã</rt></ruby>ã€ã¿ãŸã„ï¼</h3>
            <p style="font-size: 1rem; line-height: 1.5;">
              ãˆã‚“ã´ã¤ã§<ruby>å­—<rt>ã˜</rt></ruby>ã‚’<ruby>æ›¸<rt>ã‹</rt></ruby>ãã‚ˆã†ã«ã€<br>
              ã‚¢ãƒ—ãƒªã‚’<ruby>ä½¿<rt>ã¤ã‹</rt></ruby>ã£ã¦ã„ã‚ã‚“ãªã“ã¨ãŒã§ãã‚‹ã‚ˆï¼
            </p>
          </div>
          
          <div class="content-box">
            <h3 style="color: #5ce68a; margin-bottom: 10px; font-size: 1.3rem;">ã„ã‚ã‚“ãª<ruby>ç¨®é¡<rt>ã—ã‚…ã‚‹ã„</rt></ruby>ãŒã‚ã‚‹ã‚ˆ</h3>
            <ul style="font-size: 1rem; line-height: 1.6; list-style: none; padding-left: 0;">
              <li>ğŸ® ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒª</li>
              <li>ğŸ“š <ruby>å‹‰å¼·<rt>ã¹ã‚“ãã‚‡ã†</rt></ruby>ã‚¢ãƒ—ãƒª</li>
              <li>ğŸ¨ ãŠ<ruby>çµµ<rt>ãˆ</rt></ruby>ã‹ãã‚¢ãƒ—ãƒª</li>
              <li>ğŸ’¬ ãŠ<ruby>è©±<rt>ã¯ãªã—</rt></ruby>ã—ã‚¢ãƒ—ãƒª</li>
            </ul>
          </div>
        </div>
        
        <div style="flex: 1;">
          <p style="text-align: center; margin-bottom: 15px; font-size: 1.1rem;">
            ğŸ‘‡ ã‚¢ãƒ—ãƒªã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦<ruby>ä½“é¨“<rt>ãŸã„ã‘ã‚“</rt></ruby>ã—ã‚ˆã†ï¼
          </p>
          <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; max-width: 200px; margin: 0 auto;">
            <div class="app-icon" onclick="openMiniApp('paint')">ğŸ¨</div>
            <div class="app-icon" onclick="openMiniApp('calculator')">ğŸ”¢</div>
            <div class="app-icon" onclick="openMiniApp('music')">ğŸµ</div>
            <div class="app-icon" onclick="openMiniApp('game')">ğŸ®</div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³4: ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã®ä»•çµ„ã¿ -->
    <section class="section" id="section4">
      <h1 class="title">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã§ã¤ãªãŒã‚‹<ruby>ä¸–ç•Œ<rt>ã›ã‹ã„</rt></ruby></h1>
      
      <div style="flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;">
        <div class="mini-game" style="width: 90%; max-width: 800px;">
          <h2 style="color: #3bb4d7; margin-bottom: 15px; font-size: 1.5rem;">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’<ruby>é€<rt>ãŠã</rt></ruby>ã£ã¦ã¿ã‚ˆã†ï¼</h2>
          <p style="margin-bottom: 15px; font-size: 1rem;">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚’<ruby>ä½¿<rt>ã¤ã‹</rt></ruby>ã£ã¦ã€<ruby>ä¸–ç•Œä¸­<rt>ã›ã‹ã„ã˜ã‚…ã†</rt></ruby>ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒ<ruby>å±Š<rt>ã¨ã©</rt></ruby>ãã‚ˆï¼</p>
          
          <div style="display: flex; align-items: center; justify-content: center; gap: 20px; margin: 20px 0;">
            <div style="text-align: center;">
              <div style="font-size: 100px;">ğŸ‘¦</div>
              <p style="font-size: 0.9rem;">ã‚ãªãŸ</p>
            </div>
            
            <div id="messageAnimation" style="font-size: 60px; opacity: 0;">
              âœ‰ï¸â¡ï¸
            </div>
            
            <div style="text-align: center;">
              <div style="font-size: 100px;">ğŸŒ</div>
              <p style="font-size: 0.9rem;">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆ</p>
            </div>
            
            <div id="messageAnimation2" style="font-size: 60px; opacity: 0;">
              â¡ï¸âœ‰ï¸
            </div>
            
            <div style="text-align: center;">
              <div style="font-size: 100px;">ğŸ‘§</div>
              <p style="font-size: 0.9rem;"><ruby>å‹<rt>ã¨ã‚‚</rt></ruby>ã ã¡</p>
            </div>
          </div>
          
          <div style="margin-top: 15px;">
            <input type="text" id="messageInput" placeholder="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’<ruby>å…¥åŠ›<rt>ã«ã‚…ã†ã‚Šã‚‡ã</rt></ruby>ã—ã¦ã­" 
                   style="padding: 8px 15px; border-radius: 20px; border: 2px solid #3bb4d7; font-size: 1rem; width: 250px;">
            <button class="interactive-btn" onclick="sendMessage()" style="margin-left: 10px;">
              <ruby>é€ä¿¡<rt>ãã†ã—ã‚“</rt></ruby>ï¼
            </button>
          </div>
          
          <div id="messageResult" style="margin-top: 15px; font-size: 1.1rem; color: #5ce68a;"></div>
        </div>
      </div>
    </section>
    
    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³5: ãƒ–ãƒ©ã‚¦ã‚¶ã®ä¸–ç•Œ -->
    <section class="section" id="section5">
      <h1 class="title">ãƒ–ãƒ©ã‚¦ã‚¶ã£ã¦ãªãƒ¼ã«ï¼Ÿ</h1>
      
      <div style="flex: 1; display: flex; gap: 30px; align-items: center;">
        <div style="flex: 1;">
          <div class="content-box" style="margin-bottom: 15px;">
            <h3 style="color: #ff5a87; margin-bottom: 10px; font-size: 1.3rem;">ãƒ–ãƒ©ã‚¦ã‚¶ã¯ã€Œã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã®<ruby>å…¥<rt>ã„</rt></ruby>ã‚Š<ruby>å£<rt>ãã¡</rt></ruby>ã€</h3>
            <p style="font-size: 1rem; line-height: 1.6;">
              YouTubeã€Googleã€ã‚²ãƒ¼ãƒ ã‚µã‚¤ãƒˆã‚’<ruby>è¦‹<rt>ã¿</rt></ruby>ã‚‹ãŸã‚ã«<ruby>ä½¿<rt>ã¤ã‹</rt></ruby>ã†<strong><ruby>ç‰¹åˆ¥<rt>ã¨ãã¹ã¤</rt></ruby>ãªã‚¢ãƒ—ãƒª</strong>ã ã‚ˆï¼<br>
              ã‚¹ãƒãƒ›ã‚„ãƒ‘ã‚½ã‚³ãƒ³ã«<ruby>æœ€åˆ<rt>ã•ã„ã—ã‚‡</rt></ruby>ã‹ã‚‰<ruby>å…¥<rt>ã¯ã„</rt></ruby>ã£ã¦ã„ã‚‹ã‚“ã ã€‚
            </p>
          </div>
          
          <div class="content-box" style="margin-bottom: 15px;">
            <h3 style="color: #5ce68a; margin-bottom: 10px; font-size: 1.3rem;">ã©ã‚“ãªãƒ–ãƒ©ã‚¦ã‚¶ãŒã‚ã‚‹ï¼Ÿ</h3>
            <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 10px;">
              <div style="font-size: 40px;">ğŸŒ</div>
              <div>
                <p style="font-weight: bold; margin-bottom: 3px;">Chromeï¼ˆã‚¯ãƒ­ãƒ¼ãƒ ï¼‰</p>
                <p style="font-size: 0.9rem; color: #666;">Google ãŒ<ruby>ä½œ<rt>ã¤ã</rt></ruby>ã£ãŸ<ruby>äººæ°—<rt>ã«ã‚“ã</rt></ruby>No.1ãƒ–ãƒ©ã‚¦ã‚¶</p>
              </div>
            </div>
            <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 10px;">
              <div style="font-size: 40px;">ğŸ§­</div>
              <div>
                <p style="font-weight: bold; margin-bottom: 3px;">Safariï¼ˆã‚µãƒ•ã‚¡ãƒªï¼‰</p>
                <p style="font-size: 0.9rem; color: #666;">iPhoneãƒ»iPad ã«<ruby>å…¥<rt>ã¯ã„</rt></ruby>ã£ã¦ã„ã‚‹ãƒ–ãƒ©ã‚¦ã‚¶</p>
              </div>
            </div>
            <div style="display: flex; gap: 10px; align-items: center;">
              <div style="font-size: 40px;">ğŸŒŸ</div>
              <div>
                <p style="font-weight: bold; margin-bottom: 3px;">Edgeï¼ˆã‚¨ãƒƒã‚¸ï¼‰</p>
                <p style="font-size: 0.9rem; color: #666;">Windows ãƒ‘ã‚½ã‚³ãƒ³ã«<ruby>å…¥<rt>ã¯ã„</rt></ruby>ã£ã¦ã„ã‚‹ãƒ–ãƒ©ã‚¦ã‚¶</p>
              </div>
            </div>
          </div>
          
          <div class="content-box">
            <h3 style="color: #3bb4d7; margin-bottom: 10px; font-size: 1.3rem;">ãƒ–ãƒ©ã‚¦ã‚¶ã¨ã‚¢ãƒ—ãƒªã®<ruby>é•<rt>ã¡ãŒ</rt></ruby>ã„</h3>
            <p style="font-size: 1rem; line-height: 1.6;">
              <strong>ğŸ“± <ruby>æ™®é€š<rt>ãµã¤ã†</rt></ruby>ã®ã‚¢ãƒ—ãƒªï¼š</strong> ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒ<ruby>å¿…è¦<rt>ã²ã¤ã‚ˆã†</rt></ruby><br>
              <strong>ğŸŒ ãƒ–ãƒ©ã‚¦ã‚¶ã§<ruby>è¦‹<rt>ã¿</rt></ruby>ã‚‹ã‚‚ã®ï¼š</strong> ã™ãã«<ruby>ä½¿<rt>ã¤ã‹</rt></ruby>ãˆã‚‹ï¼
            </p>
          </div>
        </div>
        
        <div style="flex: 1; text-align: center;">
          <div style="display: flex; flex-direction: column; gap: 20px; align-items: center; margin-top: 20px;">
            <!-- ãƒ–ãƒ©ã‚¦ã‚¶ãƒ‡ãƒ¢ -->
            <div class="browser-window" style="width: 350px; height: 250px; border: 3px solid #333; border-radius: 10px; background: #f0f0f0; position: relative;">
              <div style="height: 30px; background: #e0e0e0; border-radius: 7px 7px 0 0; display: flex; align-items: center; padding: 0 10px; border-bottom: 1px solid #ccc;">
                <div style="display: flex; gap: 5px;">
                  <div style="width: 8px; height: 8px; border-radius: 50%; background: #ff5f57;"></div>
                  <div style="width: 8px; height: 8px; border-radius: 50%; background: #ffbd2e;"></div>
                  <div style="width: 8px; height: 8px; border-radius: 50%; background: #28ca42;"></div>
                </div>
                <div id="addressBar" style="flex: 1; margin-left: 10px; background: white; height: 16px; border-radius: 8px; display: flex; align-items: center; padding: 0 8px; font-size: 0.7rem; color: #666;">ğŸŒ www.youtube.com</div>
              </div>
              <div id="browserContent" style="height: calc(100% - 30px); background: white; display: flex; align-items: center; justify-content: center; transition: all 0.5s ease;">
                <div style="text-align: center;">
                  <div style="font-size: 60px; margin-bottom: 10px;">ğŸ“º</div>
                  <p style="font-size: 1rem; font-weight: bold;">YouTube</p>
                  <p style="font-size: 0.8rem; color: #666;"><ruby>å‹•ç”»<rt>ã©ã†ãŒ</rt></ruby>ã‚’<ruby>è¦‹<rt>ã¿</rt></ruby>ã‚ˆã†ï¼</p>
                </div>
              </div>
            </div>
            
            <!-- ã‚µã‚¤ãƒˆåˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ -->
            <div style="display: flex; gap: 10px;">
              <button class="interactive-btn" onclick="changeSite('youtube')" style="padding: 8px 12px; font-size: 0.9rem;">
                ğŸ“º YouTube
              </button>
              <button class="interactive-btn" onclick="changeSite('google')" style="padding: 8px 12px; font-size: 0.9rem;">
                ğŸ” Google
              </button>
              <button class="interactive-btn" onclick="changeSite('game')" style="padding: 8px 12px; font-size: 0.9rem;">
                ğŸ® ã‚²ãƒ¼ãƒ 
              </button>
            </div>
            
            <div class="content-box" style="max-width: 400px;">
               <p style="font-size: 0.95rem; text-align: center; color: #3bb4d7;">
                 <strong>ã™ã”ã„ã§ã—ã‚‡ï¼Ÿ</strong><br>
                 ãƒ–ãƒ©ã‚¦ã‚¶ãŒã‚ã‚Œã°ã€<ruby>ä¸–ç•Œä¸­<rt>ã›ã‹ã„ã˜ã‚…ã†</rt></ruby>ã®ã‚µã‚¤ãƒˆã«<ruby>è¡Œ<rt>ã„</rt></ruby>ã‘ã‚‹ï¼
               </p>
               <div style="margin-top: 10px; padding: 10px; background: #fff8e1; border-radius: 8px; border-left: 4px solid #ffbe3d;">
                 <p style="font-size: 0.9rem; color: #ff6f00; font-weight: bold; text-align: center;">
                   ğŸ’¡ <ruby>æ¬¡<rt>ã¤ã</rt></ruby>ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã§<ruby>ä½¿<rt>ã¤ã‹</rt></ruby>ãˆã‚‹ã€Œã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã€ã«ã¤ã„ã¦<ruby>å­¦<rt>ã¾ãª</rt></ruby>ã¼ã†ï¼
                 </p>
               </div>
             </div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³6: ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªä½“é¨“ -->
    <section class="section" id="section6">
      <h1 class="title">ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚’<ruby>ä½¿<rt>ã¤ã‹</rt></ruby>ã£ã¦ã¿ã‚ˆã†ï¼</h1>
      
      <div style="flex: 1; display: flex; gap: 20px;">
        <div style="flex: 1;">
          <div class="content-box">
            <h3 style="color: #ff5a87; margin-bottom: 10px; font-size: 1.2rem;">ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã®<ruby>ç‰¹å¾´<rt>ã¨ãã¡ã‚‡ã†</rt></ruby></h3>
            <ul style="font-size: 0.95rem; line-height: 1.6;">
              <li>âœ¨ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<ruby>ä¸è¦<rt>ãµã‚ˆã†</rt></ruby>ï¼</li>
              <li>ğŸŒ ã©ã“ã‹ã‚‰ã§ã‚‚ã‚¢ã‚¯ã‚»ã‚¹<ruby>å¯èƒ½<rt>ã‹ã®ã†</rt></ruby></li>
              <li>ğŸ”„ ã„ã¤ã‚‚<ruby>æœ€æ–°ç‰ˆ<rt>ã•ã„ã—ã‚“ã°ã‚“</rt></ruby></li>
              <li>ğŸ“± ã©ã‚“ãª<ruby>æ©Ÿæ¢°<rt>ãã‹ã„</rt></ruby>ã§ã‚‚<ruby>ä½¿<rt>ã¤ã‹</rt></ruby>ãˆã‚‹</li>
            </ul>
          </div>
        </div>
        
        <div style="flex: 2;">
          <div class="mini-game">
            <h3 style="color: #3bb4d7; margin-bottom: 15px; font-size: 1.3rem;">ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—ã‚²ãƒ¼ãƒ </h3>
            <p style="margin-bottom: 15px; font-size: 0.95rem;"><ruby>æ­£<rt>ãŸã </rt></ruby>ã—ã„<ruby>å ´æ‰€<rt>ã°ã—ã‚‡</rt></ruby>ã«ã‚¢ã‚¤ã‚³ãƒ³ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ã­ï¼</p>
            
            <div style="display: flex; gap: 15px; justify-content: center; margin-bottom: 20px;">
              <div class="app-icon draggable" draggable="true" data-type="game" style="width: 140px; height: 140px; font-size: 70px;">ğŸ®</div>
              <div class="app-icon draggable" draggable="true" data-type="study" style="width: 140px; height: 140px; font-size: 70px;">ğŸ“š</div>
              <div class="app-icon draggable" draggable="true" data-type="art" style="width: 140px; height: 140px; font-size: 70px;">ğŸ¨</div>
            </div>
            
            <div style="display: flex; gap: 15px; justify-content: center;">
              <div class="drop-zone" data-accept="game">
                <p style="margin: 0;">ã‚²ãƒ¼ãƒ </p>
              </div>
              <div class="drop-zone" data-accept="study">
                <p style="margin: 0;"><ruby>å‹‰å¼·<rt>ã¹ã‚“ãã‚‡ã†</rt></ruby></p>
              </div>
              <div class="drop-zone" data-accept="art">
                <p style="margin: 0;">ã‚¢ãƒ¼ãƒˆ</p>
              </div>
            </div>
            
            <div id="dragResult" style="margin-top: 15px; font-size: 1rem;"></div>
          </div>
        </div>
      </div>
    </section>
    
    <!-- ã‚»ã‚¯ã‚·ãƒ§ãƒ³7: ã¾ã¨ã‚ã¨ã‚¯ã‚¤ã‚º -->
    <section class="section" id="section7">
      <h1 class="title"><ruby>ä»Šæ—¥<rt>ãã‚‡ã†</rt></ruby>ã®ã¾ã¨ã‚ã‚¯ã‚¤ã‚ºï¼</h1>
      
      <div style="flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;">
        <div class="content-box" style="max-width: 700px;">
          <div id="quizContainer">
            <h2 id="quizQuestion" style="color: #3bb4d7; margin-bottom: 20px; font-size: 1.5rem;"><ruby>æº–å‚™<rt>ã˜ã‚…ã‚“ã³</rt></ruby>ã¯ã„ã„ï¼Ÿ</h2>
            <div id="quizOptions" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
              <!-- ã‚¯ã‚¤ã‚ºã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
            </div>
            <div id="quizResult" style="margin-top: 20px; font-size: 1.1rem; text-align: center;"></div>
            <button class="interactive-btn" onclick="startQuiz()" style="margin-top: 15px;">
              ã‚¯ã‚¤ã‚ºã‚’<ruby>å§‹<rt>ã¯ã˜</rt></ruby>ã‚ã‚‹ï¼
            </button>
          </div>
          
          <div id="congratulations" style="display: none; text-align: center;">
            <h2 style="color: #5ce68a; font-size: 2rem; margin-bottom: 15px;">ğŸ‰ ãŠã‚ã§ã¨ã†ï¼ ğŸ‰</h2>
            <p style="font-size: 1.2rem; margin-bottom: 20px;">
              ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã¨ã‚¢ãƒ—ãƒªã®<ruby>ä¸–ç•Œ<rt>ã›ã‹ã„</rt></ruby>ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ãŸã­ï¼
            </p>
            <button class="interactive-btn" onclick="goToSection(1)">
              <ruby>æœ€åˆ<rt>ã•ã„ã—ã‚‡</rt></ruby>ã‹ã‚‰<ruby>è¦‹<rt>ã¿</rt></ruby>ã‚‹
            </button>
          </div>
        </div>
      </div>
    </section>
    
    <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <div class="navigation">
      <div class="nav-dot active" onclick="goToSection(1)"></div>
      <div class="nav-dot" onclick="goToSection(2)"></div>
      <div class="nav-dot" onclick="goToSection(3)"></div>
      <div class="nav-dot" onclick="goToSection(4)"></div>
      <div class="nav-dot" onclick="goToSection(5)"></div>
      <div class="nav-dot" onclick="goToSection(6)"></div>
      <div class="nav-dot" onclick="goToSection(7)"></div>
    </div>
    
    <!-- ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— -->
    <div class="overlay" id="overlay" onclick="closePopup()"></div>
    <div class="popup" id="popup">
      <div id="popupContent"></div>
      <button class="interactive-btn" onclick="closePopup()" style="margin-top: 20px;">
        <ruby>é–‰<rt>ã¨</rt></ruby>ã˜ã‚‹
      </button>
    </div>
  </div>
  
  <script>
    // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
    let currentSection = 1;
    let score = 0;
    let quizIndex = 0;
    
    // çŠ¶æ…‹ä¿å­˜ãƒ»å¾©å…ƒæ©Ÿèƒ½
    function saveState() {
      const appState = {
        currentSection: currentSection,
        score: score,
        quizIndex: quizIndex,
        timestamp: Date.now()
      };
      localStorage.setItem('appdev02a_state', JSON.stringify(appState));
    }
    
    function loadState() {
      try {
        const savedState = localStorage.getItem('appdev02a_state');
        if (savedState) {
          const appState = JSON.parse(savedState);
          
          // 24æ™‚é–“ä»¥å†…ã®çŠ¶æ…‹ã®ã¿å¾©å…ƒ
          const oneDay = 24 * 60 * 60 * 1000;
          if (Date.now() - appState.timestamp < oneDay) {
            currentSection = appState.currentSection || 1;
            score = appState.score || 0;
            quizIndex = appState.quizIndex || 0;
            
            // ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å¾©å…ƒ
            restoreSection(currentSection);
            return true;
          }
        }
      } catch (error) {
        console.log('çŠ¶æ…‹ã®å¾©å…ƒã«å¤±æ•—ã—ã¾ã—ãŸ:', error);
      }
      return false;
    }
    
    function restoreSection(sectionNum) {
      // å…¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’éè¡¨ç¤º
      document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
      });
      
      // æŒ‡å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º
      const targetSection = document.getElementById(`section${sectionNum}`);
      if (targetSection) {
        targetSection.classList.add('active');
        
        // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‰ãƒƒãƒˆã‚’æ›´æ–°
        document.querySelectorAll('.nav-dot').forEach((dot, index) => {
          dot.classList.toggle('active', index === sectionNum - 1);
        });
        
        // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ›´æ–°
        const progress = (sectionNum / 7) * 100;
        document.getElementById('progressBar').style.width = `${progress}%`;
      }
    }
    
    function clearState() {
      localStorage.removeItem('appdev02a_state');
    }
    
    // ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿
    const quizData = [
      {
        question: "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚’ä½¿ã†ã®ã«å¿…è¦ãªæ©Ÿæ¢°ã¯ï¼Ÿ",
        options: ["ãˆã‚“ã´ã¤", "ãƒ‘ã‚½ã‚³ãƒ³ã‚„ã‚¹ãƒãƒ›", "ã¯ã•ã¿", "ã®ã‚Š"],
        correct: 1
      },
      {
        question: "ã‚¢ãƒ—ãƒªã¯ä½•ã«ä¼¼ã¦ã„ã‚‹ï¼Ÿ",
        options: ["ãŠã‚‚ã¡ã‚ƒ", "é“å…·", "é£Ÿã¹ç‰©", "æ´‹æœ"],
        correct: 1
      },
      {
        question: "ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã®è‰¯ã„ã¨ã“ã‚ã¯ï¼Ÿ",
        options: ["ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå¿…è¦", "ä¸€ã¤ã®æ©Ÿæ¢°ã§ã—ã‹ä½¿ãˆãªã„", "ã©ã‚“ãªæ©Ÿæ¢°ã§ã‚‚ä½¿ãˆã‚‹", "ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆãŒã„ã‚‰ãªã„"],
        correct: 2
      }
    ];
    
    // ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆ
    function goToSection(sectionNum) {
      // ç¾åœ¨ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’éè¡¨ç¤º
      document.getElementById(`section${currentSection}`).classList.remove('active');
      
      // æ–°ã—ã„ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º
      currentSection = sectionNum;
      document.getElementById(`section${currentSection}`).classList.add('active');
      
      // ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‰ãƒƒãƒˆã‚’æ›´æ–°
      document.querySelectorAll('.nav-dot').forEach((dot, index) => {
        dot.classList.toggle('active', index === sectionNum - 1);
      });
      
      // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ›´æ–°
      const progress = (sectionNum / 7) * 100;
      document.getElementById('progressBar').style.width = `${progress}%`;
      
      // çŠ¶æ…‹ã‚’ä¿å­˜
      saveState();
    }
    
    // å†’é™ºã‚’å§‹ã‚ã‚‹
    function startAdventure() {
      goToSection(2);
    }
    
    // é€²è¡ŒçŠ¶æ³ã‚’ãƒªã‚»ãƒƒãƒˆ
    function resetProgress() {
      if (confirm('é€²è¡ŒçŠ¶æ³ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿæœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã—ã«ãªã‚Šã¾ã™ã€‚')) {
        clearState();
        currentSection = 1;
        score = 0;
        quizIndex = 0;
        goToSection(1);
        
        // ã‚¯ã‚¤ã‚ºé–¢é€£ã®è¡¨ç¤ºã‚’ãƒªã‚»ãƒƒãƒˆ
        document.getElementById('quizContainer').style.display = 'block';
        document.getElementById('congratulations').style.display = 'none';
        
        alert('é€²è¡ŒçŠ¶æ³ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã—ãŸï¼');
      }
    }
    
    // ãƒ‡ãƒã‚¤ã‚¹æƒ…å ±è¡¨ç¤º
    function showDeviceInfo(device) {
      const deviceInfo = document.getElementById('deviceInfo');
      const info = {
        pc: {
          title: "ãƒ‘ã‚½ã‚³ãƒ³ï¼ˆPCï¼‰",
          emoji: "ğŸ’»",
          description: "å¤§ããªç”»é¢ã¨ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ã€ãŸãã•ã‚“ã®ä½œæ¥­ãŒã§ãã‚‹æ©Ÿæ¢°ã ã‚ˆï¼",
          features: ["ğŸ“ æ–‡ç« ã‚’æ›¸ã", "ğŸ¨ çµµã‚’æã", "ğŸ® ã‚²ãƒ¼ãƒ ã‚’ã™ã‚‹", "ğŸ“¹ å‹•ç”»ã‚’è¦‹ã‚‹"]
        },
        tablet: {
          title: "ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ",
          emoji: "ğŸ“±",
          description: "ç”»é¢ã‚’ã‚¿ãƒƒãƒã—ã¦æ“ä½œã™ã‚‹ã€æŒã¡é‹ã³ã‚„ã™ã„æ©Ÿæ¢°ã ã‚ˆï¼",
          features: ["ğŸ“– æœ¬ã‚’èª­ã‚€", "âœï¸ çµµã‚’æã", "ğŸ¯ ã‚²ãƒ¼ãƒ ã‚’ã™ã‚‹", "ğŸ“¸ å†™çœŸã‚’æ’®ã‚‹"]
        },
        smartphone: {
          title: "ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³",
          emoji: "ğŸ“±",
          description: "ãƒã‚±ãƒƒãƒˆã«å…¥ã‚‹å°ã•ãªã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ï¼ã„ã¤ã§ã‚‚ã©ã“ã§ã‚‚ä½¿ãˆã‚‹ã‚ˆï¼",
          features: ["ğŸ“ é›»è©±ã‚’ã‹ã‘ã‚‹", "ğŸ’¬ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹", "ğŸ“· å†™çœŸã‚’æ’®ã‚‹", "ğŸ—ºï¸ åœ°å›³ã‚’è¦‹ã‚‹"]
        }
      };
      
      const selected = info[device];
      deviceInfo.innerHTML = `
        <h3 style="color: #ff5a87; margin-bottom: 10px; font-size: 1.5rem;">
          ${selected.emoji} ${selected.title}
        </h3>
        <p style="font-size: 1.1rem; margin-bottom: 10px; line-height: 1.5; font-weight: 500;">${selected.description}</p>
        <h4 style="color: #3bb4d7; margin-bottom: 8px; font-size: 1.2rem;">ã§ãã‚‹ã“ã¨ï¼š</h4>
        <ul style="font-size: 1rem; line-height: 1.5; margin: 0; padding-left: 20px;">
          ${selected.features.map(feature => `<li style="margin-bottom: 4px; font-weight: 500;">${feature}</li>`).join('')}
        </ul>
      `;
      deviceInfo.style.display = 'block';
      
      // ãƒ‡ãƒã‚¤ã‚¹ã‚«ãƒ¼ãƒ‰ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ
      document.querySelectorAll('.device-card').forEach(card => {
        card.classList.remove('active');
      });
      event.currentTarget.classList.add('active');
    }
    
    // ãƒŸãƒ‹ã‚¢ãƒ—ãƒªã‚’é–‹ã
    function openMiniApp(appType) {
      const popup = document.getElementById('popup');
      const popupContent = document.getElementById('popupContent');
      const overlay = document.getElementById('overlay');
      
      const apps = {
        paint: {
          title: "ğŸ¨ ãŠçµµã‹ãã‚¢ãƒ—ãƒª",
          content: `
            <h3 style="color: #ff5a87; margin-bottom: 20px;">ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦çµµã‚’æã“ã†ï¼</h3>
            <canvas id="paintCanvas" width="400" height="300" style="border: 2px solid #3bb4d7; border-radius: 10px; cursor: crosshair;"></canvas>
            <div style="margin-top: 20px;">
              <button onclick="clearCanvas()" class="interactive-btn" style="font-size: 1rem;">æ¶ˆã™</button>
            </div>
          `
        },
        calculator: {
          title: "ğŸ”¢ è¨ˆç®—ã‚¢ãƒ—ãƒª",
          content: `
            <h3 style="color: #5ce68a; margin-bottom: 20px;">ç°¡å˜ãªè¨ˆç®—ã‚’ã—ã¦ã¿ã‚ˆã†ï¼</h3>
            <input type="number" id="num1" placeholder="æ•°å­—1" style="width: 100px; padding: 10px; margin: 5px;">
            <span style="font-size: 1.5rem; margin: 0 10px;">+</span>
            <input type="number" id="num2" placeholder="æ•°å­—2" style="width: 100px; padding: 10px; margin: 5px;">
            <button onclick="calculate()" class="interactive-btn" style="font-size: 1rem; margin-left: 10px;">è¨ˆç®—</button>
            <div id="calcResult" style="margin-top: 20px; font-size: 1.5rem; color: #3bb4d7;"></div>
          `
        },
        music: {
          title: "ğŸµ éŸ³æ¥½ã‚¢ãƒ—ãƒª",
          content: `
            <h3 style="color: #ff5a87; margin-bottom: 20px;">ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦éŸ³ã‚’é³´ã‚‰ãã†ï¼</h3>
            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px;">
              ${['ãƒ‰', 'ãƒ¬', 'ãƒŸ', 'ãƒ•ã‚¡', 'ã‚½', 'ãƒ©', 'ã‚·', 'ãƒ‰'].map((note, index) => 
                `<button class="interactive-btn" onclick="playNote(${261.63 * Math.pow(2, index/12)})" 
                         style="font-size: 1.2rem; padding: 20px;">${note}</button>`
              ).join('')}
            </div>
          `
        },
        game: {
          title: "ğŸ® ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒª",
          content: `
            <h3 style="color: #3bb4d7; margin-bottom: 20px;">æ•°å­—ã‚’è¦šãˆã¦ã­ï¼</h3>
            <div id="memoryGame" style="font-size: 3rem; margin: 30px 0;">
              <span id="numberDisplay">?</span>
            </div>
            <button onclick="startMemoryGame()" class="interactive-btn">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
            <div id="gameButtons" style="display: none; margin-top: 20px;">
              <button onclick="checkAnswer(1)" class="interactive-btn" style="margin: 5px;">1</button>
              <button onclick="checkAnswer(2)" class="interactive-btn" style="margin: 5px;">2</button>
              <button onclick="checkAnswer(3)" class="interactive-btn" style="margin: 5px;">3</button>
              <button onclick="checkAnswer(4)" class="interactive-btn" style="margin: 5px;">4</button>
            </div>
            <div id="gameResult" style="margin-top: 20px; font-size: 1.2rem;"></div>
          `
        }
      };
      
      const app = apps[appType];
      popupContent.innerHTML = `<h2>${app.title}</h2>${app.content}`;
      
      popup.classList.add('show');
      overlay.classList.add('show');
      
      // ãƒšã‚¤ãƒ³ãƒˆã‚¢ãƒ—ãƒªã®åˆæœŸåŒ–
      if (appType === 'paint') {
        setTimeout(initPaintApp, 100);
      }
    }
    
    // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚’é–‰ã˜ã‚‹
    function closePopup() {
      document.getElementById('popup').classList.remove('show');
      document.getElementById('overlay').classList.remove('show');
    }
    
    // ãƒšã‚¤ãƒ³ãƒˆã‚¢ãƒ—ãƒªã®æ©Ÿèƒ½
    function initPaintApp() {
      const canvas = document.getElementById('paintCanvas');
      if (!canvas) return;
      
      const ctx = canvas.getContext('2d');
      let isDrawing = false;
      
      canvas.addEventListener('mousedown', (e) => {
        isDrawing = true;
        const rect = canvas.getBoundingClientRect();
        ctx.beginPath();
        ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
      });
      
      canvas.addEventListener('mousemove', (e) => {
        if (!isDrawing) return;
        const rect = canvas.getBoundingClientRect();
        ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
        ctx.strokeStyle = '#ff5a87';
        ctx.lineWidth = 3;
        ctx.stroke();
      });
      
      canvas.addEventListener('mouseup', () => {
        isDrawing = false;
      });
    }
    
    function clearCanvas() {
      const canvas = document.getElementById('paintCanvas');
      if (canvas) {
        const ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, canvas.width, canvas.height);
      }
    }
    
    // è¨ˆç®—æ©Ÿèƒ½
    function calculate() {
      const num1 = parseFloat(document.getElementById('num1').value) || 0;
      const num2 = parseFloat(document.getElementById('num2').value) || 0;
      const result = num1 + num2;
      document.getElementById('calcResult').textContent = `ç­”ãˆ: ${result}`;
    }
    
    // éŸ³ã‚’é³´ã‚‰ã™
    function playNote(frequency) {
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      
      oscillator.frequency.value = frequency;
      oscillator.type = 'sine';
      
      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
      
      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.5);
    }
    
    // ãƒ¡ãƒ¢ãƒªãƒ¼ã‚²ãƒ¼ãƒ 
    let memoryNumber = 0;
    
    function startMemoryGame() {
      memoryNumber = Math.floor(Math.random() * 4) + 1;
      document.getElementById('numberDisplay').textContent = memoryNumber;
      document.getElementById('gameResult').textContent = '';
      
      setTimeout(() => {
        document.getElementById('numberDisplay').textContent = '?';
        document.getElementById('gameButtons').style.display = 'block';
      }, 2000);
    }
    
    function checkAnswer(answer) {
      const result = document.getElementById('gameResult');
      if (answer === memoryNumber) {
        result.textContent = 'ğŸ‰ æ­£è§£ï¼';
        result.style.color = '#5ce68a';
      } else {
        result.textContent = 'âŒ ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦ï¼';
        result.style.color = '#ff5a87';
      }
      document.getElementById('gameButtons').style.display = 'none';
    }
    
    // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
    function sendMessage() {
      const message = document.getElementById('messageInput').value;
      if (!message) return;
      
      const anim1 = document.getElementById('messageAnimation');
      const anim2 = document.getElementById('messageAnimation2');
      const result = document.getElementById('messageResult');
      
      // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹
      anim1.style.opacity = '1';
      anim1.style.transition = 'all 1s';
      
      setTimeout(() => {
        anim2.style.opacity = '1';
        anim2.style.transition = 'all 1s';
      }, 500);
      
      setTimeout(() => {
        result.textContent = `âœ… ã€Œ${message}ã€ãŒå±Šã„ãŸã‚ˆï¼`;
        anim1.style.opacity = '0';
        anim2.style.opacity = '0';
      }, 1500);
      
      document.getElementById('messageInput').value = '';
    }
    
    // ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—æ©Ÿèƒ½
    let draggedElement = null;
    
    document.addEventListener('DOMContentLoaded', () => {
      // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚ã«çŠ¶æ…‹ã‚’å¾©å…ƒ
      loadState();
      
      // ãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½ãªè¦ç´ ã®è¨­å®š
      document.querySelectorAll('.draggable').forEach(element => {
        element.addEventListener('dragstart', (e) => {
          draggedElement = e.target;
          e.target.style.opacity = '0.5';
        });
        
        element.addEventListener('dragend', (e) => {
          e.target.style.opacity = '';
        });
      });
      
      // ãƒ‰ãƒ­ãƒƒãƒ—ã‚¾ãƒ¼ãƒ³ã®è¨­å®š
      document.querySelectorAll('.drop-zone').forEach(zone => {
        zone.addEventListener('dragover', (e) => {
          e.preventDefault();
          zone.classList.add('drag-over');
        });
        
        zone.addEventListener('dragleave', () => {
          zone.classList.remove('drag-over');
        });
        
        zone.addEventListener('drop', (e) => {
          e.preventDefault();
          zone.classList.remove('drag-over');
          
          const dropType = zone.getAttribute('data-accept');
          const dragType = draggedElement.getAttribute('data-type');
          
          if (dropType === dragType) {
            zone.appendChild(draggedElement);
            document.getElementById('dragResult').innerHTML = 
              '<span style="color: #5ce68a;">âœ… æ­£è§£ï¼ã™ã”ã„ï¼</span>';
            
            // å…¨éƒ¨æ­£è§£ã—ãŸã‹ãƒã‚§ãƒƒã‚¯
            const allCorrect = document.querySelectorAll('.drop-zone .draggable').length === 3;
            if (allCorrect) {
              setTimeout(() => {
                document.getElementById('dragResult').innerHTML = 
                  '<span style="color: #ff5a87; font-size: 1.5rem;">ğŸ‰ å…¨å•æ­£è§£ï¼ã‚ˆãã§ãã¾ã—ãŸï¼</span>';
              }, 500);
            }
          } else {
            document.getElementById('dragResult').innerHTML = 
              '<span style="color: #ff5a87;">âŒ ã‚‚ã†ä¸€åº¦è€ƒãˆã¦ã¿ã‚ˆã†ï¼</span>';
          }
        });
      });
    });
    
    // ã‚¯ã‚¤ã‚ºæ©Ÿèƒ½
    function startQuiz() {
      quizIndex = 0;
      score = 0;
      showQuizQuestion();
      // çŠ¶æ…‹ã‚’ä¿å­˜
      saveState();
    }
    
    function showQuizQuestion() {
      if (quizIndex >= quizData.length) {
        // ã‚¯ã‚¤ã‚ºçµ‚äº†
        document.getElementById('quizContainer').style.display = 'none';
        document.getElementById('congratulations').style.display = 'block';
        return;
      }
      
      const quiz = quizData[quizIndex];
      document.getElementById('quizQuestion').textContent = quiz.question;
      
      const optionsHtml = quiz.options.map((option, index) => `
        <button class="content-box" onclick="answerQuiz(${index})" 
                style="cursor: pointer; font-size: 1.2rem; padding: 20px;">
          ${option}
        </button>
      `).join('');
      
      document.getElementById('quizOptions').innerHTML = optionsHtml;
      document.getElementById('quizResult').textContent = '';
    }
    
    function answerQuiz(answer) {
      const quiz = quizData[quizIndex];
      const result = document.getElementById('quizResult');
      
      if (answer === quiz.correct) {
        result.innerHTML = '<span style="color: #5ce68a;">ğŸ‰ æ­£è§£ï¼</span>';
        score++;
      } else {
        result.innerHTML = '<span style="color: #ff5a87;">âŒ æ®‹å¿µï¼ã‚‚ã†å°‘ã—ï¼</span>';
      }
      
      // çŠ¶æ…‹ã‚’ä¿å­˜
      saveState();
      
      setTimeout(() => {
        quizIndex++;
        showQuizQuestion();
        // çŠ¶æ…‹ã‚’ä¿å­˜
        saveState();
      }, 1500);
    }
    
    // ãƒ–ãƒ©ã‚¦ã‚¶ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
    function changeSite(siteType) {
      const addressBar = document.getElementById('addressBar');
      const browserContent = document.getElementById('browserContent');
      
      // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³åŠ¹æœ
      browserContent.style.opacity = '0.5';
      browserContent.style.transform = 'scale(0.95)';
      
      setTimeout(() => {
        if (siteType === 'youtube') {
          addressBar.innerHTML = 'ğŸŒ www.youtube.com';
          browserContent.innerHTML = `
            <div style="text-align: center;">
              <div style="font-size: 60px; margin-bottom: 10px;">ğŸ“º</div>
              <p style="font-size: 1rem; font-weight: bold;">YouTube</p>
              <p style="font-size: 0.8rem; color: #666;"><ruby>å‹•ç”»<rt>ã©ã†ãŒ</rt></ruby>ã‚’<ruby>è¦‹<rt>ã¿</rt></ruby>ã‚ˆã†ï¼</p>
            </div>
          `;
        } else if (siteType === 'google') {
          addressBar.innerHTML = 'ğŸŒ www.google.com';
          browserContent.innerHTML = `
            <div style="text-align: center;">
              <div style="font-size: 60px; margin-bottom: 10px;">ğŸ”</div>
              <p style="font-size: 1rem; font-weight: bold;">Google</p>
              <p style="font-size: 0.8rem; color: #666;">ãªã‚“ã§ã‚‚<ruby>æ¤œç´¢<rt>ã‘ã‚“ã•ã</rt></ruby>ï¼</p>
            </div>
          `;
        } else if (siteType === 'game') {
          addressBar.innerHTML = 'ğŸŒ www.kids-games.com';
          browserContent.innerHTML = `
            <div style="text-align: center;">
              <div style="font-size: 60px; margin-bottom: 10px;">ğŸ®</div>
              <p style="font-size: 1rem; font-weight: bold;">ã‚²ãƒ¼ãƒ ã‚µã‚¤ãƒˆ</p>
              <p style="font-size: 0.8rem; color: #666;"><ruby>æ¥½<rt>ãŸã®</rt></ruby>ã—ã<ruby>éŠ<rt>ã‚ã</rt></ruby>ã¼ã†ï¼</p>
            </div>
          `;
        }
        
        // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¾©å¸°
        browserContent.style.opacity = '1';
        browserContent.style.transform = 'scale(1)';
      }, 200);
    }

    // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆçµ±åˆæ©Ÿèƒ½ä½¿ç”¨ï¼‰
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') {
        e.preventDefault();
        navigateIntegrated('right');
      } else if (e.key === 'ArrowLeft') {
        e.preventDefault();
        navigateIntegrated('left');
      }
    });
    
    // ã‚¿ãƒƒãƒã‚¹ãƒ¯ã‚¤ãƒ—å¯¾å¿œ
    let touchStartX = 0;
    let touchEndX = 0;
    
    document.addEventListener('touchstart', (e) => {
      touchStartX = e.changedTouches[0].screenX;
    });
    
    document.addEventListener('touchend', (e) => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    });
    
    function handleSwipe() {
      if (touchEndX < touchStartX - 50) {
        navigateIntegrated('right');
      }
      if (touchEndX > touchStartX + 50) {
        navigateIntegrated('left');
      }
    }

    // === çµ±åˆã•ã‚ŒãŸã‚¹ãƒ©ã‚¤ãƒ‰é–“ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ ===
    const slides = ["AppDev_01.html", "AppDev_02.html", "AppDev_03.html", "AppDev_04.html", "AppDev_05.html", "AppDev_06a.html", "AppDev_06b.html", "AppDev_07.html", "AppDev_08.html", "AppDev_09.html", "AppDev_10.html"];
    
    let curName = location.pathname.split("/").pop();
    if (!curName || !curName.includes(".")) curName = "index.html";
    const curIdx = slides.indexOf(curName);

    const goToSlide = (i) => {
      if (i < 0 || i >= slides.length) return;
      const dir = location.pathname.replace(/[^/]*$/, "");
      location.href = dir + slides[i];
    };

    // å†…éƒ¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¨å¤–éƒ¨ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’çµ±åˆã—ãŸãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
    window.navigateIntegrated = function(direction) {
      if (direction === 'right') {
        if (currentSection < 7) {
          // æœ€å¾Œã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ãªã‘ã‚Œã°æ¬¡ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¸
          goToSection(currentSection + 1);
        } else {
          // æœ€å¾Œã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯æ¬¡ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã¸
          goToSlide(curIdx + 1);
        }
      } else if (direction === 'left') {
        if (currentSection > 1) {
          // æœ€åˆã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ãªã‘ã‚Œã°å‰ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¸
          goToSection(currentSection - 1);
        } else {
          // æœ€åˆã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯å‰ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã¸
          goToSlide(curIdx - 1);
        }
      }
    };

    // å³ä¸‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã®ä½œæˆ
    const navBox = document.createElement("div");
    navBox.innerHTML = `
      <button id="gs-back">Back</button>
      <button id="gs-next">Next</button>
      <button id="gs-zoom-in" title="æ‹¡å¤§">ï¼‹</button>
      <button id="gs-zoom-out" title="ç¸®å°">âˆ’</button>
      <button id="gs-pdf-download" title="ã“ã®ãƒšãƒ¼ã‚¸ã‚’PDF">ğŸ“„</button>
    `;
    Object.assign(navBox.style, {
      position: "fixed",
      bottom: "12px",
      right: "12px",
      display: "flex",
      gap: "8px",
      zIndex: 9999,
      pointerEvents: "auto",
    });

    // ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ«
    const css = `
      #gs-back, #gs-next, #gs-zoom-in, #gs-zoom-out, #gs-pdf-download {
        padding: 8px 14px;
        font: 14px/1 sans-serif;
        border: 1px solid #666;
        background: #fff;
        border-radius: 6px;
        cursor: pointer;
        opacity: .85;
        touch-action: manipulation;
      }
      #gs-back:hover, #gs-next:hover, #gs-zoom-in:hover, #gs-zoom-out:hover, #gs-pdf-download:hover { opacity: 1; }
      #gs-pdf-download { background: #007bff; color: white; }
    `;
    const styleTag = document.createElement("style");
    styleTag.textContent = css;
    document.head.appendChild(styleTag);

    navBox.addEventListener("click", (e) => e.stopPropagation());
    document.body.appendChild(navBox);

    document.getElementById("gs-back").addEventListener("click", (e) => {
      e.stopPropagation();
      navigateIntegrated('left');
    });
    document.getElementById("gs-next").addEventListener("click", (e) => {
      e.stopPropagation();
      navigateIntegrated('right');
    });

    // ã‚ºãƒ¼ãƒ æ©Ÿèƒ½
    let zoom = 1.0;
    const ZOOM_MIN = 0.5;
    const ZOOM_MAX = 2.0;
    const ZOOM_STEP = 0.1;

    function applyZoom() {
      document.body.style.transform = `scale(${zoom})`;
      document.body.style.transformOrigin = "0 0";
      const slideElem = document.querySelector('.main-container') || document.body;
      const slideWidth = slideElem.scrollWidth;
      document.body.style.minWidth = (slideWidth * zoom) + "px";
      document.documentElement.style.minWidth = (slideWidth * zoom) + "px";
    }

    document.getElementById("gs-zoom-in").addEventListener("click", (e) => {
      e.stopPropagation();
      if (zoom < ZOOM_MAX) {
        zoom = Math.round((zoom + ZOOM_STEP) * 100) / 100;
        if (zoom > ZOOM_MAX) zoom = ZOOM_MAX;
        applyZoom();
      }
    });

    document.getElementById("gs-zoom-out").addEventListener("click", (e) => {
      e.stopPropagation();
      if (zoom > ZOOM_MIN) {
        zoom = Math.round((zoom - ZOOM_STEP) * 100) / 100;
        if (zoom < ZOOM_MIN) zoom = ZOOM_MIN;
        applyZoom();
      }
    });

    // PDFæ©Ÿèƒ½
    document.getElementById("gs-pdf-download").addEventListener("click", (e) => {
      e.stopPropagation();
      const currentSlideNum = slides.indexOf(location.pathname.split("/").pop()) + 1;
      const originalTitle = document.title;
      document.title = `AppDev_slide_${currentSlideNum.toString().padStart(2, '0')}_section_${currentSection}`;
      window.print();
      setTimeout(() => {
        document.title = originalTitle;
      }, 1000);
    });
  </script>
  
  <!-- ã‚¹ãƒ©ã‚¤ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ - å†…éƒ¨ã«çµ±åˆ -->
  <!-- <script src="slide-nav-plusPDF.js"></script> -->
</body>
</html>